- job-template:
    name: "ccp-bvt-{bvt-type}"
    description: |
      Fuel CCP - CCP bvt
    project-type: workflow

    parameters:
      - string:
          name: DOCKER_REGISTRY
          default: '{docker-dev-virtual}'
          description: 'Docker registry for binaries and images'

      - string:
          name: KUBERNETES_URL
          description: 'URL for kubernetes api like https://host:443/'
          # TODO(sryabin) fix me
          default: 'https://kube:changeme@mcpsrv012-scc.mcp.mirantis.net'

      - string:
          name: CREDENTIALS_ID
          default: 'kubernetes-api'
          description: 'Credentials for k8s api'

      - string:
          name: OS_GERRIT_ENDPOINT
          default: 'review.fuel-infra.org:29418'
          description: 'Openstack git endpoint'

      - string:
          name: OS_CREDENTIAL_ID
          default: 'mcp-openstack-reader'
          description: 'OS Gerrit credential id'

      - mcp-configuration-params:
          gerrit-proto: 'ssh'
          gerrit-host: '{gerrit-host}'
          gerrit-port: '{gerrit-port}'
          gerrit-credential-id: 'mcp-ci-gerrit'
          gerrit-repo-ns: 'clusters/mcp/ccp-ci'


      - ccp-configuration-params:
          conf-entrypoint: "bvt/{bvt-type}.yaml"

    workflow-scm:
      scm:
        basic-scm:
          branch: 'master'
          project: 'ccp-ci/ccp-bvt-pipeline'
          gerrit-host: '{gerrit-host}'
          gerrit-port: '{gerrit-port}'
      script-path: Jenkinsfile
